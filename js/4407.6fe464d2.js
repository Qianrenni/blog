"use strict";(self["webpackChunkmyblog"]=self["webpackChunkmyblog"]||[]).push([[4407],{94407:function(r,n,e){e.r(n),n["default"]='## **6.11 访问者模式**\r\n\r\n### **定义与特点**\r\n\r\n访问者模式允许你在不修改类的情况下向已有类添加新的功能。\r\n\r\n### **在不修改类的情况下添加新操作**\r\n\r\n- 访问者封装了新的操作。\r\n- 元素接受访问者并调用其方法。\r\n\r\n### **示例：文档处理**\r\n\r\n```python\r\nfrom abc import ABC, abstractmethod\r\n\r\n# 元素接口\r\nclass Element(ABC):\r\n    @abstractmethod\r\n    def accept(self, visitor):\r\n        pass\r\n\r\n# 具体元素\r\nclass Text(Element):\r\n    def accept(self, visitor):\r\n        visitor.visit_text(self)\r\n\r\nclass Image(Element):\r\n    def accept(self, visitor):\r\n        visitor.visit_image(self)\r\n\r\n# 访问者接口\r\nclass Visitor(ABC):\r\n    @abstractmethod\r\n    def visit_text(self, text):\r\n        pass\r\n\r\n    @abstractmethod\r\n    def visit_image(self, image):\r\n        pass\r\n\r\n# 具体访问者\r\nclass DocumentProcessor(Visitor):\r\n    def visit_text(self, text):\r\n        print("Processing text.")\r\n\r\n    def visit_image(self, image):\r\n        print("Processing image.")\r\n\r\n# 使用示例\r\nelements = [Text(), Image()]\r\nvisitor = DocumentProcessor()\r\n\r\nfor element in elements:\r\n    element.accept(visitor)\r\n# 输出:\r\n# Processing text.\r\n# Processing image.\r\n```\r\n\r\n---'}}]);
//# sourceMappingURL=4407.6fe464d2.js.map