"use strict";(self["webpackChunkmyblog"]=self["webpackChunkmyblog"]||[]).push([[33833],{33833:function(n,r,a){a.r(r),r["default"]="## **9.2 存储过程与函数**\r\n\r\n**存储过程**和**函数**是预定义的 SQL 代码块，可以被多次调用，从而减少重复代码并提高执行效率。\r\n\r\n### **1. 存储过程**\r\n\r\n存储过程是一组 SQL 语句的集合，通常用于执行特定任务。\r\n\r\n**语法：**\r\n\r\n```sql\r\nCREATE PROCEDURE procedure_name (parameter_list)\r\nAS\r\nBEGIN\r\n    -- SQL statements\r\nEND;\r\n```\r\n\r\n**示例：**\r\n创建一个存储过程，用于更新员工的工资：\r\n\r\n```sql\r\nCREATE PROCEDURE UpdateSalary (@employee_id INT, @new_salary DECIMAL(10, 2))\r\nAS\r\nBEGIN\r\n    UPDATE employees\r\n    SET salary = @new_salary\r\n    WHERE employee_id = @employee_id;\r\nEND;\r\n```\r\n\r\n调用存储过程：\r\n\r\n```sql\r\nEXEC UpdateSalary @employee_id = 101, @new_salary = 6000;\r\n```\r\n\r\n### **2. 函数**\r\n\r\n函数类似于存储过程，但函数必须返回一个值，并且可以在 SQL 查询中直接调用。\r\n\r\n**语法：**\r\n\r\n```sql\r\nCREATE FUNCTION function_name (parameter_list) RETURNS datatype\r\nAS\r\nBEGIN\r\n    -- SQL statements\r\n    RETURN value;\r\nEND;\r\n```\r\n\r\n**示例：**\r\n创建一个函数，用于计算员工的年薪：\r\n\r\n```sql\r\nCREATE FUNCTION CalculateAnnualSalary (@monthly_salary DECIMAL(10, 2)) RETURNS DECIMAL(10, 2)\r\nAS\r\nBEGIN\r\n    RETURN @monthly_salary * 12;\r\nEND;\r\n```\r\n\r\n调用函数：\r\n\r\n```sql\r\nSELECT employee_id, name, dbo.CalculateAnnualSalary(salary) AS annual_salary\r\nFROM employees;\r\n```\r\n\r\n### **3. 存储过程与函数的区别**\r\n\r\n| 特性                | 存储过程                         | 函数                           |\r\n|---------------------|----------------------------------|--------------------------------|\r\n| 是否返回值          | 可选                             | 必须返回值                    |\r\n| 调用方式            | 使用 `EXEC` 或 `CALL`            | 在 SQL 查询中直接调用         |\r\n| 是否允许修改数据    | 是                               | 否                            |\r\n\r\n---"}}]);
//# sourceMappingURL=33833.ca12d7c4.js.map