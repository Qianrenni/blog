"use strict";(self["webpackChunkmyblog"]=self["webpackChunkmyblog"]||[]).push([[85038],{85038:function(r,n,t){t.r(n),n["default"]='## **1. 异常机制**\r\n\r\n### **1.1 `try`, `catch`, `throw`**\r\n\r\nC++ 的异常处理机制基于三个关键字：`try`, `catch`, 和 `throw`。\r\n\r\n- **`try` 块**：\r\n  - 用于包裹可能抛出异常的代码。\r\n  - 如果在 `try` 块中发生异常，程序会跳转到匹配的 `catch` 块进行处理。\r\n\r\n- **`throw` 表达式**：\r\n  - 用于抛出异常，可以抛出任何类型的值（通常是对象）。\r\n  - 抛出异常后，程序会立即跳出当前函数，并寻找最近的匹配 `catch` 块。\r\n\r\n- **`catch` 块**：\r\n  - 用于捕获和处理特定类型的异常。\r\n  - 可以有多个 `catch` 块，分别处理不同类型的异常。\r\n\r\n**语法**：\r\n\r\n```cpp\r\ntry {\r\n    // 可能抛出异常的代码\r\n} catch (异常类型1 参数) {\r\n    // 处理异常类型1\r\n} catch (异常类型2 参数) {\r\n    // 处理异常类型2\r\n} catch (...) { // 捕获所有异常\r\n    // 处理未知异常\r\n}\r\n```\r\n\r\n**示例**：\r\n以下是一个简单的异常处理示例：\r\n\r\n```cpp\r\n#include <iostream>\r\nusing namespace std;\r\n\r\nvoid divide(int a, int b) {\r\n    if (b == 0) {\r\n        throw runtime_error("Division by zero"); // 抛出异常\r\n    }\r\n    cout << "Result: " << a / b << endl;\r\n}\r\n\r\nint main() {\r\n    try {\r\n        divide(10, 0); // 尝试除以零\r\n    } catch (const exception& e) { // 捕获标准异常\r\n        cout << "Error: " << e.what() << endl; // 输出错误信息\r\n    }\r\n    return 0;\r\n}\r\n```\r\n\r\n### **1.2 自定义异常类**\r\n\r\n除了使用标准异常类（如 `std::runtime_error`），我们还可以定义自己的异常类来表示特定的错误。\r\n\r\n**示例**：\r\n以下是一个自定义异常类的示例：\r\n\r\n```cpp\r\n#include <iostream>\r\n#include <string>\r\nusing namespace std;\r\n\r\n// 定义自定义异常类\r\nclass MyException : public exception {\r\nprivate:\r\n    string message;\r\npublic:\r\n    MyException(const string& msg) : message(msg) {}\r\n    const char* what() const noexcept override {\r\n        return message.c_str();\r\n    }\r\n};\r\n\r\nvoid checkAge(int age) {\r\n    if (age < 18) {\r\n        throw MyException("Age must be at least 18");\r\n    }\r\n    cout << "Age is valid" << endl;\r\n}\r\n\r\nint main() {\r\n    try {\r\n        checkAge(16); // 尝试传递无效年龄\r\n    } catch (const exception& e) {\r\n        cout << "Error: " << e.what() << endl; // 输出自定义错误信息\r\n    }\r\n    return 0;\r\n}\r\n```\r\n\r\n---'}}]);
//# sourceMappingURL=85038.2c92904f.js.map